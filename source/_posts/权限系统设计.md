---
title: 权限系统设计
date: 2023-10-05 20:42:17
tags:
categories: 
---

# 1. 为什么需要权限管理

**权限管理是公司数据安全的重要保证，针对不同的岗位，不同的级别看到的数据是不一样的，操作数据的限制也是不一样的。**

# 2. 权限设计的结构

业务分类上来讲权限可以分为数据查看权限，数据修改权限等。

对应到系统设计中有页面权限、菜单权限、按钮权限等。菜单也分一级菜单、二级菜单甚至三级菜单，菜单对应的页面里又有很多按钮。

我们在设计的时候最好把权限设计成树形结构，这样在申请权限的时候就可以一目了然的看到菜单的结构，需要哪些权限就非常的明了了。

<img src="https://panyuro.oss-cn-beijing.aliyuncs.com/image-20231005205506829.png" alt="image-20231005205506829" style="zoom:50%;" />

# 3. **RBAC模型**

RBAC模型（Role-Based Access Control：基于角色的访问控制）是比较早期提出的权限实现模型。在RBAC模型里面，有3个基础组成部分，分别是：用户、角色和权限

<img src="https://panyuro.oss-cn-beijing.aliyuncs.com/image-20231005210158217.png" alt="image-20231005210158217" style="zoom:50%;" />

> 为什么需要角色？
>
> ​       一个用户可以有多个权限，统一一个权限可以被多个用户拥有。这种模型能够满足权限的基本分配能力，但是随着用户数量的增长。每一个用户都需要去分配权限，非常的浪费管理员的时间和精力。
>
> ​      其实很多用户负责同一个业务模块所需要的权限是一样的，也就是他们在这个业务中扮演的角色，因此只需要增加一个角色，给每一个用户都赋予上这个角色就好。



# 4. 标准RBAC模型表设计

标准RBAC模型的表是比较简单了，要表示`用户-角色-权限`三者之前的关系，首先要创建用户表、角色表、权限表，用户和角色是多对多的关系，角色和权限是多对多的关系，需要再创建两章关系表，分别是用户-角色关系表和角色-权限关系表。

<img src="https://panyuro.oss-cn-beijing.aliyuncs.com/image-20231005211449511.png" alt="image-20231005211449511" style="zoom:50%;" />

# 5 项目权限设计实战

## 1. 后端权限控制

![image-20231005211848749](https://panyuro.oss-cn-beijing.aliyuncs.com/image-20231005211848749.png)

## 2. 前端权限控制

